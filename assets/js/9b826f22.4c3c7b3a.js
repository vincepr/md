"use strict";(self.webpackChunkmd=self.webpackChunkmd||[]).push([[357],{3905:(e,n,r)=>{r.d(n,{Zo:()=>c,kt:()=>h});var t=r(7294);function i(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function a(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function s(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?a(Object(r),!0).forEach((function(n){i(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}function o(e,n){if(null==e)return{};var r,t,i=function(e,n){if(null==e)return{};var r,t,i={},a=Object.keys(e);for(t=0;t<a.length;t++)r=a[t],n.indexOf(r)>=0||(i[r]=e[r]);return i}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(t=0;t<a.length;t++)r=a[t],n.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var u=t.createContext({}),l=function(e){var n=t.useContext(u),r=n;return e&&(r="function"==typeof e?e(n):s(s({},n),e)),r},c=function(e){var n=l(e.components);return t.createElement(u.Provider,{value:n},e.children)},m="mdxType",d={inlineCode:"code",wrapper:function(e){var n=e.children;return t.createElement(t.Fragment,{},n)}},p=t.forwardRef((function(e,n){var r=e.components,i=e.mdxType,a=e.originalType,u=e.parentName,c=o(e,["components","mdxType","originalType","parentName"]),m=l(r),p=i,h=m["".concat(u,".").concat(p)]||m[p]||d[p]||a;return r?t.createElement(h,s(s({ref:n},c),{},{components:r})):t.createElement(h,s({ref:n},c))}));function h(e,n){var r=arguments,i=n&&n.mdxType;if("string"==typeof e||i){var a=r.length,s=new Array(a);s[0]=p;var o={};for(var u in n)hasOwnProperty.call(n,u)&&(o[u]=n[u]);o.originalType=e,o[m]="string"==typeof e?e:i,s[1]=o;for(var l=2;l<a;l++)s[l]=r[l];return t.createElement.apply(null,s)}return t.createElement.apply(null,r)}p.displayName="MDXCreateElement"},2940:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>u,contentTitle:()=>s,default:()=>m,frontMatter:()=>a,metadata:()=>o,toc:()=>l});var t=r(7462),i=(r(7294),r(3905));const a={},s="PHP mit SQL zusammen",o={unversionedId:"fiae/sql/withphp",id:"fiae/sql/withphp",title:"PHP mit SQL zusammen",description:"",source:"@site/docs/fiae/sql/withphp.md",sourceDirName:"fiae/sql",slug:"/fiae/sql/withphp",permalink:"/md/fiae/sql/withphp",draft:!1,editUrl:"https://github.com/vincepr/md/blob/main/docs/fiae/sql/withphp.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Projektarbeit Datenbanken",permalink:"/md/fiae/sql/proj_db_krankenhaus/"},next:{title:"Windows Grundlagen",permalink:"/md/fiae/windows/grundlagen"}},u={},l=[],c={toc:l};function m(e){let{components:n,...r}=e;return(0,i.kt)("wrapper",(0,t.Z)({},c,r,{components:n,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"php-mit-sql-zusammen"},"PHP mit SQL zusammen"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"in der MySQL-Datenbank\n----------------------\n\nin XAMPP Shell starten und einloggen:\n    --\x3e mysql -u root\n\nzun\xe4chst erzeugen wir eine neue Datenbank:\n    --\x3e CREATE DATABASE Loginsystem;\n    \ndanach erzeugen wir unsere Tabelle f\xfcr die Benutzer:\n    --\x3e CREATE TABLE User \n            ( \n                ID INT AUTO_INCREMENT NOT NULL, Autologin VARCHAR(32) NULL, IP VARCHAR(15) NULL, SessionID VARCHAR(32) NULL,\n                Nickname VARCHAR(30) NOT NULL, Passwort VARCHAR(128) NOT NULL, Email VARCHAR(70) NOT NULL, Show_Email BOOL NULL,\n                Registrierungsdatum DATE NULL, Letzter_Login INT NOT NULL DEFAULT 0, Letzte_Aktion INT NOT NULL DEFAULT 0,\n                PRIMARY KEY ( ID ),\n                UNIQUE ( Nickname, Email )\n            );\n            \ndann erzeugen wir eine Tabelle f\xfcr die Userrechte:\n    --\x3e CREATE TABLE User_Rechte \n        (\n            ID INT AUTO_INCREMENT NOT NULL, UserID INT NOT NULL, Recht VARCHAR(100) NOT NULL, \n            PRIMARY KEY ( ID )\n        );          \n\ndann f\xfcgen wir einen Administrator ein:\n    --\x3e INSERT INTO User ( Nickname, Email, Show_Email, Passwort, Registrierungsdatum )\n        VALUES ( 'admin', 'satan@hell.de', '1', SHA2( 'admin', 512 ), CURDATE() );\n\nnun brauchen wir noch die ID des Administrators:\n    --\x3e SELECT LAST_INSERT_ID(); ==> ADMINID\n    \ndann geben wir ihm die Rechte zum Betreten des Administratorbereichs:\n    --\x3e INSERT INTO User_Rechte ( UserID, Recht ) VALUES ( ADMINID, 'Adminbereich' );\n    \nund zum Editieren von Benutzern:\n    --\x3e INSERT INTO User_Rechte ( UserID, Recht ) VALUES ( ADMINID, 'User administrieren' );\n    \nwir f\xfcgen weitere Benutzer ein:\n    --\x3e INSERT INTO User ( Nickname, Email, Show_Email, Passwort, Registrierungsdatum )\n        VALUES ( 'Chris', 'chris@halle.de', '1', SHA2( '12345678', 512 ), CURDATE() );\n\n    --\x3e INSERT INTO User ( Nickname, Email, Show_Email, Passwort, Registrierungsdatum )\n        VALUES ( 'Rene', 'rene@helbra.de', '1', SHA2( '123', 512 ), CURDATE() );\n\nnun brauchen wir zuerst mal noch einen Standartbenutzer:\n    --\x3e CREATE USER 'standartuser'@'localhost' IDENTIFIED BY 'geheim';\n    --\x3e GRANT SELECT ON loginsystem.* TO 'standartuser'@'localhost';\n\nund einen Administrator zum \xc4ndern der User und User_Rechte:\n    --\x3e CREATE USER 'administrator'@'localhost' IDENTIFIED BY 'ultrageheim';\n    --\x3e GRANT SELECT, DELETE, INSERT, UPDATE ON loginsystem.* TO 'administrator'@'localhost';\n    \nin der php.ini\n--------------\nzum Schluss m\xfcssen wir noch PHP richtig konfigurieren, damit die Passw\xf6rter nicht im PHP-Skript \nauftauchen\n\ndie richtige! php.ini suchen\nfindet man unter Benutzung der localhost/dashboard/phpinfo.php im ersten Abschnitt unter \"Loaded Configuration File\"\n\nin dieser Datei suchen wir nach dem Eintrag \"mysqli.default_user\" und erg\xe4nzen ihn mit \"standartuser\"\nder n\xe4chste Eintrag den wir brauchen ist \"mysqli.default_pw\" und erg\xe4nzen ihn mit admin\n\n")))}m.isMDXComponent=!0}}]);