"use strict";(self.webpackChunkmd=self.webpackChunkmd||[]).push([[357],{3905:(e,n,t)=>{t.d(n,{Zo:()=>l,kt:()=>h});var r=t(7294);function i(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function a(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function s(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?a(Object(t),!0).forEach((function(n){i(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function o(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}var u=r.createContext({}),c=function(e){var n=r.useContext(u),t=n;return e&&(t="function"==typeof e?e(n):s(s({},n),e)),t},l=function(e){var n=c(e.components);return r.createElement(u.Provider,{value:n},e.children)},m="mdxType",d={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},p=r.forwardRef((function(e,n){var t=e.components,i=e.mdxType,a=e.originalType,u=e.parentName,l=o(e,["components","mdxType","originalType","parentName"]),m=c(t),p=i,h=m["".concat(u,".").concat(p)]||m[p]||d[p]||a;return t?r.createElement(h,s(s({ref:n},l),{},{components:t})):r.createElement(h,s({ref:n},l))}));function h(e,n){var t=arguments,i=n&&n.mdxType;if("string"==typeof e||i){var a=t.length,s=new Array(a);s[0]=p;var o={};for(var u in n)hasOwnProperty.call(n,u)&&(o[u]=n[u]);o.originalType=e,o[m]="string"==typeof e?e:i,s[1]=o;for(var c=2;c<a;c++)s[c]=t[c];return r.createElement.apply(null,s)}return r.createElement.apply(null,t)}p.displayName="MDXCreateElement"},2940:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>u,contentTitle:()=>s,default:()=>m,frontMatter:()=>a,metadata:()=>o,toc:()=>c});var r=t(7462),i=(t(7294),t(3905));const a={},s="PHP mit SQL zusammen",o={unversionedId:"fiae/sql/withphp",id:"fiae/sql/withphp",title:"PHP mit SQL zusammen",description:"",source:"@site/docs/fiae/sql/withphp.md",sourceDirName:"fiae/sql",slug:"/fiae/sql/withphp",permalink:"/md/fiae/sql/withphp",draft:!1,editUrl:"https://github.com/vincepr/md/blob/main/docs/fiae/sql/withphp.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Projektarbeit Datenbanken",permalink:"/md/fiae/sql/proj_db_krankenhaus/"},next:{title:"wirtschaft_grundlagen",permalink:"/md/fiae/wirtschaft_grundlagen/"}},u={},c=[],l={toc:c};function m(e){let{components:n,...t}=e;return(0,i.kt)("wrapper",(0,r.Z)({},l,t,{components:n,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"php-mit-sql-zusammen"},"PHP mit SQL zusammen"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"in der MySQL-Datenbank\n----------------------\n\nin XAMPP Shell starten und einloggen:\n    --\x3e mysql -u root\n\nzun\xe4chst erzeugen wir eine neue Datenbank:\n    --\x3e CREATE DATABASE Loginsystem;\n    \ndanach erzeugen wir unsere Tabelle f\xfcr die Benutzer:\n    --\x3e CREATE TABLE User \n            ( \n                ID INT AUTO_INCREMENT NOT NULL, Autologin VARCHAR(32) NULL, IP VARCHAR(15) NULL, SessionID VARCHAR(32) NULL,\n                Nickname VARCHAR(30) NOT NULL, Passwort VARCHAR(128) NOT NULL, Email VARCHAR(70) NOT NULL, Show_Email BOOL NULL,\n                Registrierungsdatum DATE NULL, Letzter_Login INT NOT NULL DEFAULT 0, Letzte_Aktion INT NOT NULL DEFAULT 0,\n                PRIMARY KEY ( ID ),\n                UNIQUE ( Nickname, Email )\n            );\n            \ndann erzeugen wir eine Tabelle f\xfcr die Userrechte:\n    --\x3e CREATE TABLE User_Rechte \n        (\n            ID INT AUTO_INCREMENT NOT NULL, UserID INT NOT NULL, Recht VARCHAR(100) NOT NULL, \n            PRIMARY KEY ( ID )\n        );          \n\ndann f\xfcgen wir einen Administrator ein:\n    --\x3e INSERT INTO User ( Nickname, Email, Show_Email, Passwort, Registrierungsdatum )\n        VALUES ( 'admin', 'satan@hell.de', '1', SHA2( 'admin', 512 ), CURDATE() );\n\nnun brauchen wir noch die ID des Administrators:\n    --\x3e SELECT LAST_INSERT_ID(); ==> ADMINID\n    \ndann geben wir ihm die Rechte zum Betreten des Administratorbereichs:\n    --\x3e INSERT INTO User_Rechte ( UserID, Recht ) VALUES ( ADMINID, 'Adminbereich' );\n    \nund zum Editieren von Benutzern:\n    --\x3e INSERT INTO User_Rechte ( UserID, Recht ) VALUES ( ADMINID, 'User administrieren' );\n    \nwir f\xfcgen weitere Benutzer ein:\n    --\x3e INSERT INTO User ( Nickname, Email, Show_Email, Passwort, Registrierungsdatum )\n        VALUES ( 'Chris', 'chris@halle.de', '1', SHA2( '12345678', 512 ), CURDATE() );\n\n    --\x3e INSERT INTO User ( Nickname, Email, Show_Email, Passwort, Registrierungsdatum )\n        VALUES ( 'Rene', 'rene@helbra.de', '1', SHA2( '123', 512 ), CURDATE() );\n\nnun brauchen wir zuerst mal noch einen Standartbenutzer:\n    --\x3e CREATE USER 'standartuser'@'localhost' IDENTIFIED BY 'geheim';\n    --\x3e GRANT SELECT ON loginsystem.* TO 'standartuser'@'localhost';\n\nund einen Administrator zum \xc4ndern der User und User_Rechte:\n    --\x3e CREATE USER 'administrator'@'localhost' IDENTIFIED BY 'ultrageheim';\n    --\x3e GRANT SELECT, DELETE, INSERT, UPDATE ON loginsystem.* TO 'administrator'@'localhost';\n    \nin der php.ini\n--------------\nzum Schluss m\xfcssen wir noch PHP richtig konfigurieren, damit die Passw\xf6rter nicht im PHP-Skript \nauftauchen\n\ndie richtige! php.ini suchen\nfindet man unter Benutzung der localhost/dashboard/phpinfo.php im ersten Abschnitt unter \"Loaded Configuration File\"\n\nin dieser Datei suchen wir nach dem Eintrag \"mysqli.default_user\" und erg\xe4nzen ihn mit \"standartuser\"\nder n\xe4chste Eintrag den wir brauchen ist \"mysqli.default_pw\" und erg\xe4nzen ihn mit admin\n\n")))}m.isMDXComponent=!0}}]);